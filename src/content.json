function render(locale, content) {
  $("#brand-name").textContent = content.name;

  $$("#nav a").forEach(a => {
    const key = a.getAttribute("data-i18n");
    a.textContent = t(locale, key);
  });

  $("#hero-title").textContent = t(locale, "hero.title");
  $("#hero-subtitle").textContent = t(locale, "hero.subtitle");
  $("#about-title").textContent = t(locale, "about.title");
  $("#about-body").textContent = t(locale, "about.body");
  $("#skills-title").textContent = t(locale, "skills.title");
  $("#exp-title").textContent = t(locale, "experience.title");
  $("#contact-title").textContent = t(locale, "contact.title");

  $("#search").setAttribute("placeholder", t(locale, "search.placeholder"));

  $("#contact-phone-label").textContent = t(locale, "contact.phone");
  $("#contact-email-label").textContent = t(locale, "contact.email");
  $("#contact-linkedin-label").textContent = t(locale, "contact.linkedin");

  $("#phone").textContent = content.phone;
  $("#phone").href = `tel:${content.phone.replace(/\s+/g, "")}`;
  $("#email").textContent = content.email;
  $("#email").href = `mailto:${content.email}`;
  $("#linkedin").textContent = content.linkedin.replace(/^https?:\/\//, "");
  $("#linkedin").href = content.linkedin;

  $("#cv-link").textContent = t(locale, "hero.ctaPrimary");
  $("#contact-link").textContent = t(locale, "hero.ctaSecondary");

  const badgeContainer = $("#skills-badges");
  badgeContainer.innerHTML = "";

  const skillBuckets = [
    ...content.skills.architecture,
    ...content.skills.methods,
    ...content.skills.process,
    ...content.skills.modeling,
    ...content.skills.communication,
    ...content.skills.patterns,
    ...content.skills.microsoft,
    ...content.skills.other_langs,
    ...content.skills.ibm,
    ...content.skills.scripting,
    ...content.skills.is,
    ...content.skills.tools
  ];

  const seen = new Set();
  skillBuckets.forEach(s => {
    const k = normalize(s);
    if (seen.has(k)) return;
    seen.add(k);
    const span = document.createElement("span");
    span.className = "badge";
    span.textContent = s;
    badgeContainer.appendChild(span);
  });

  const timeline = $("#timeline");
  timeline.innerHTML = "";

  content.experience.forEach(x => {
    const lang = locale.langCode;

    const div = document.createElement("div");
    div.className = "item";
    div.setAttribute("data-search", normalize([
      x.company,
      x[`industry_${lang}`] || x.industry_en,
      x[`date_${lang}`] || x.date_en,
      x[`role_${lang}`] || x.role_en,
      x.stack,
      ...(x[`highlights_${lang}`] || x.highlights_en || []),
      x[`full_description_${lang}`] || ""
    ].join(" ")));

    const head = document.createElement("div");
    head.className = "item-head";

    const title = document.createElement("div");
    title.className = "item-title";
    title.textContent = `${x.company} — ${x[`role_${lang}`] || x.role_en}`;

    const meta = document.createElement("div");
    meta.className = "item-meta";
    meta.textContent = `${x[`industry_${lang}`] || x.industry_en} • ${x[`date_${lang}`] || x.date_en}`;

    head.appendChild(title);
    head.appendChild(meta);

    const ul = document.createElement("ul");
    (x[`highlights_${lang}`] || x.highlights_en || []).forEach(h => {
      const li = document.createElement("li");
      li.textContent = h;
      ul.appendChild(li);
    });

    const toggle = document.createElement("button");
    toggle.className = "accordion-toggle";
    toggle.textContent = t(locale, "experience.readMore");

    const full = document.createElement("div");
    full.className = "accordion-content";
    full.innerHTML =
      x[`full_description_${lang}`] ||
      x.full_description_en ||
      "";

    toggle.addEventListener("click", () => {
      const open = full.classList.toggle("open");
      toggle.textContent = open
        ? t(locale, "experience.hide")
        : t(locale, "experience.readMore");
    });

    const stack = document.createElement("div");
    stack.className = "small";
    stack.textContent = x.stack;

    div.appendChild(head);
    div.appendChild(ul);
    div.appendChild(toggle);
    div.appendChild(full);
    div.appendChild(stack);

    timeline.appendChild(div);
  });
}
